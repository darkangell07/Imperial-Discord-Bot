"use strict";(()=>{var e={};e.id=237,e.ids=[237],e.modules={5739:(e,r,o)=>{o.r(r),o.d(r,{config:()=>d,default:()=>i,routeModule:()=>l});var t={};o.r(t),o.d(t,{default:()=>handler});var n=o(3105),s=o(5244),a=o(1323);async function handler(e,r){if(r.setHeader("Access-Control-Allow-Origin","*"),r.setHeader("Access-Control-Allow-Methods","POST, OPTIONS"),r.setHeader("Access-Control-Allow-Headers","Content-Type, Authorization, X-Signature-Ed25519, X-Signature-Timestamp"),"OPTIONS"===e.method)return r.status(200).end();console.log("Discord interaction received"),console.log("Headers:",JSON.stringify(e.headers));try{let o="";if(o=e.body?JSON.stringify(e.body):await new Promise(r=>{let o="";e.on("data",e=>{o+=e.toString()}),e.on("end",()=>{r(o)})}),console.log("Request body:",o),"POST"===e.method)try{let e=JSON.parse(o);if(1===e.type)return console.log("Responding to Discord ping with pong"),r.status(200).json({type:1})}catch(e){console.error("Error parsing body:",e)}return console.log("Sending fallback response"),r.status(200).json({type:1})}catch(e){return console.error("Error in Discord handler:",e),r.status(500).json({error:"Internal server error"})}}require("discord-interactions");let i=(0,a.l)(t,"default"),d=(0,a.l)(t,"config"),l=new n.PagesAPIRouteModule({definition:{kind:s.x.PAGES_API,page:"/api",pathname:"/api",bundlePath:"",filename:""},userland:t})},3105:(e,r,o)=>{e.exports=o(145)},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")}};var r=require("../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),o=r.X(0,[450],()=>__webpack_exec__(5739));module.exports=o})();